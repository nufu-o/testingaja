<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Toko Jajanan & Minuman Indonesia</title>
  <style>
    body { font-family:'Segoe UI',sans-serif; margin:0; background:#fffaf5; }
    header { background:linear-gradient(135deg,#e0480b,#eb8431be); color:white; text-align:center; padding:1.5rem; font-size:2rem; font-weight:bold; box-shadow:0 3px 8px rgba(0,0,0,0.2); }

    /* Tabs */
    .tabs { display:flex; justify-content:center; background:#ffe0d1; }
    .tab { flex:1; padding:1rem; text-align:center; cursor:pointer; font-weight:bold; font-size:1.2rem; color:#444; transition:0.3s; }
    .tab.active { background:#ff7043; color:white; border-radius:0 0 12px 12px; }

    /* Menu */
    .menu-section { display:none; padding:2rem; }
    .menu-section.active { display:block; }
    .grid { display:flex; flex-wrap:wrap; justify-content:center; gap:1.5rem; }
    .card { background:white; width:200px; border-radius:14px; box-shadow:0 4px 12px rgba(0,0,0,0.12); overflow:hidden; transition:0.3s; }
    .card:hover { transform:translateY(-6px); }
    .card img { width:100%; height:140px; object-fit:cover; }
    .card-body { padding:0.8rem; text-align:center; }
    .btn { background:#ff7043; color:white; padding:0.5rem 1rem; border:none; border-radius:6px; cursor:pointer; }
    .btn:hover { background:#e65100; }

    /* Cart */
    #cart { position:fixed; top:0; right:-400px; width:350px; height:100%; background:white; box-shadow:-4px 0 10px rgba(0,0,0,0.1); padding:1rem; transition:0.4s; overflow-y:auto; z-index:1000; }
    #cart.show { right:0; }
    #cart-toggle { position:fixed; top:1rem; right:1rem; background:#ff7043; border:none; padding:0.7rem 1.2rem; border-radius:50%; cursor:pointer; color:white; font-size:1rem; z-index:1100; }
    .cart-item { display:flex; justify-content:space-between; margin:0.5rem 0; border-bottom:1px solid #eee; padding-bottom:0.5rem; }

    /* Modal */
    #checkoutModal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:1200; }
    .modal-content { background:white; padding:1.5rem; border-radius:12px; width:300px; text-align:center; }
    .modal-content input, .modal-content textarea { width:100%; margin:0.5rem 0; padding:0.6rem; border:1px solid #ccc; border-radius:6px; }

    /* Orders */
    #orders { padding:2rem; }
    .order-card { background:white; padding:1rem; border-radius:10px; margin-bottom:1rem; box-shadow:0 2px 6px rgba(0,0,0,0.1); }

    /* Notification */
    #notification { 
      position:fixed; bottom:20px; right:20px; 
      padding:12px 20px; border-radius:8px; 
      color:white; display:none; 
      font-weight:bold; 
      animation: fadein 0.5s, fadeout 0.5s 2s;
    }
    @keyframes fadein { from {opacity:0;} to {opacity:1;} }
    @keyframes fadeout { from {opacity:1;} to {opacity:0;} }
  </style>
</head>
<body>

  <header>üç¥ Toko Jajanan & Minuman Indonesia üçπ</header>

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active" onclick="showTab('makanan')">üçΩÔ∏è Makanan</div>
    <div class="tab" onclick="showTab('minuman')">üçπ Minuman</div>
  </div>

  <!-- Makanan -->
  <div id="makanan" class="menu-section active">
    <h2>üçΩÔ∏è Pilih Makanan</h2>
    <div class="grid" id="list-makanan"></div>
  </div>

  <!-- Minuman -->
  <div id="minuman" class="menu-section">
    <h2>üçπ Pilih Minuman</h2>
    <div class="grid" id="list-minuman"></div>
  </div>

  <!-- Cart -->
  <button id="cart-toggle" onclick="toggleCart()">üõí</button>
  <div id="cart">
    <h2>Keranjang Belanja</h2>
    <div id="cart-items"></div>
    <h3 id="total">Total: Rp0</h3>
    <button class="btn" onclick="openCheckout()">Checkout</button>
  </div>

  <!-- Modal Checkout -->
  <div id="checkoutModal">
    <div class="modal-content">
      <h2>Form Checkout</h2>
      <input type="text" id="nama" placeholder="Nama Anda">
      <textarea id="alamat" placeholder="Alamat Lengkap"></textarea>
      <button class="btn" style="background:#28a745" onclick="checkout()">Kirim Pesanan</button>
      <button class="btn" style="background:#dc3545" onclick="closeCheckout()">Batal</button>
    </div>
  </div>

  <!-- Orders -->
  <section id="orders">
    <h2>üìã Daftar Pesanan</h2>
    <div id="order-list"></div>
  </section>

  <!-- Notification -->
  <div id="notification"></div>

  <script>
    let cart = [];
    let orders = JSON.parse(localStorage.getItem("orders")) || [];

    const menu = {
      makanan: [
        {nama:"Klepon", harga:5000, gambar:"klepon.jpg"},
        {nama:"Sate Ayam", harga:20000, gambar:"sate.ayam.jpg"},
        {nama:"Bakso", harga:15000, gambar:"bakso.jpg"},
        {nama:"Pempek", harga:18000, gambar:"pempek.jpg"},
        {nama:"Rendang", harga:25000, gambar:"rendang.jpg"},
        {nama:"Nasi Goreng", harga:15000, gambar:"nasi.goreng.jpg"},
        {nama:"Martabak Manis", harga:22000, gambar:"marni.jpg"},
        {nama:"Kue Cubit", harga:10000, gambar:"cibit.jpg"},
        {nama:"Lupis", harga:8000, gambar:"lupis.jpg"},
        {nama:"Pastel", harga:7000, gambar:"pastel.jpg"}
      ],
      minuman: [
        {nama:"Es Cendol", harga:8000, gambar:"es.cendol.jpg"},
        {nama:"Es Teh Manis", harga:5000, gambar:"es.teh.manis.jpg"},
        {nama:"Jus Alpukat", harga:12000, gambar:"jus.alpukat.jpeg"},
        {nama:"Wedang Ronde", harga:10000, gambar:"wedang.ronde.jpg"},
        {nama:"Kopi Tubruk", harga:7000, gambar:"coffee.tubruk.jpg"},
        {nama:"Es Dawet", harga:9000, gambar:"es.dawet.jpg"},
        {nama:"Es Teler", harga:12000, gambar:"es.teler.jpg"},
        {nama:"Teh Botol", harga:6000, gambar:"teh.botol.jpg"},
        {nama:"Susu Jahe", harga:8000, gambar:"susu.jahe.jpg"},
        {nama:"Es Jeruk", harga:7000, gambar:"es.jeruk.jpg"}
      ]
    };

    function renderMenu() {
      document.getElementById("list-makanan").innerHTML = "";
      document.getElementById("list-minuman").innerHTML = "";
      menu.makanan.forEach(m=>{
        document.getElementById("list-makanan").innerHTML += `
          <div class="card">
            <img src="${m.gambar}" alt="${m.nama}">
            <div class="card-body">
              <h3>${m.nama}</h3>
              <p><b>Rp${m.harga}</b></p>
              <button class="btn" onclick="addToCart('${m.nama}', ${m.harga})">Pesan</button>
            </div>
          </div>`;
      });
      menu.minuman.forEach(m=>{
        document.getElementById("list-minuman").innerHTML += `
          <div class="card">
            <img src="${m.gambar}" alt="${m.nama}">
            <div class="card-body">
              <h3>${m.nama}</h3>
              <p><b>Rp${m.harga}</b></p>
              <button class="btn" onclick="addToCart('${m.nama}', ${m.harga})">Pesan</button>
            </div>
          </div>`;
      });
    }

    function addToCart(name, price) {
      cart.push({ name, price });
      renderCart();
      showNotification(`${name} berhasil ditambahkan ke keranjang!`, "green");
    }

    function renderCart() {
      const cartItemsDiv = document.getElementById("cart-items");
      cartItemsDiv.innerHTML = "";
      let total = 0;
      cart.forEach((item, index) => {
        total += item.price;
        cartItemsDiv.innerHTML += `
          <div class="cart-item">
            <span>${item.name} - Rp${item.price}</span>
            <button class="btn" onclick="removeItem(${index})">Hapus</button>
          </div>`;
      });
      document.getElementById("total").innerText = "Total: Rp" + total;
    }

    function removeItem(index) {
      let removed = cart[index].name;
      cart.splice(index, 1);
      renderCart();
      showNotification(`${removed} dihapus dari keranjang!`, "red");
    }

    function toggleCart() {
      document.getElementById("cart").classList.toggle("show");
    }

    function openCheckout() {
      if (cart.length === 0) { alert("Keranjang masih kosong!"); return; }
      document.getElementById("checkoutModal").style.display = "flex";
    }

    function closeCheckout() {
      document.getElementById("checkoutModal").style.display = "none";
    }

    function checkout() {
      const nama = document.getElementById("nama").value.trim();
      const alamat = document.getElementById("alamat").value.trim();
      if (!nama || !alamat) { alert("Harap isi Nama dan Alamat!"); return; }

      const order = {
        nama,
        alamat,
        items: [...cart],
        total: cart.reduce((sum, item) => sum + item.price, 0),
        waktu: new Date().toLocaleString()
      };

      orders.push(order);
      localStorage.setItem("orders", JSON.stringify(orders));

      cart = [];
      renderCart();
      renderOrders();
      closeCheckout();
      toggleCart();
      showNotification("‚úÖ Pesanan berhasil disimpan!", "blue");
    }

    function renderOrders() {
      const listDiv = document.getElementById("order-list");
      listDiv.innerHTML = "";
      if (orders.length === 0) {
        listDiv.innerHTML = "<p>Belum ada pesanan.</p>";
        return;
      }
      orders.forEach((o, idx) => {
        let itemsText = o.items.map(i => `${i.name} (Rp${i.price})`).join(", ");
        listDiv.innerHTML += `
          <div class="order-card">
            <b>${o.nama}</b> - ${o.alamat}<br>
            <small>${o.waktu}</small><br>
            Pesanan: ${itemsText}<br>
            Total: Rp${o.total}<br>
            <button class="btn" style="background:#dc3545" onclick="deleteOrder(${idx})">Hapus Pesanan</button>
          </div>`;
      });
    }

    function deleteOrder(index) {
      let nama = orders[index].nama;
      orders.splice(index,1);
      localStorage.setItem("orders", JSON.stringify(orders));
      renderOrders();
      showNotification(`Pesanan ${nama} dihapus!`, "red");
    }

    function showTab(tab) {
      document.querySelectorAll('.menu-section').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
      document.getElementById(tab).classList.add('active');
      event.target.classList.add('active');
    }

    function showNotification(msg, color) {
      const notif = document.getElementById("notification");
      notif.innerText = msg;
      notif.style.background = color;
      notif.style.display = "block";
      setTimeout(()=> notif.style.display="none", 2500);
    }

    renderMenu();
    renderOrders();
  </script>
</body>
</html>


